{"version":3,"sources":["assets/images/auth/sign-up.png","pages/ExtraPages/SignUp.js"],"names":["SignUp","useState","email","setEmail","password","setPassword","name","setName","history","useHistory","event","storeData","a","formData","user_name","active","hashedPassword","headers","axios","post","res","console","log","data","localStorage","setItem","status","push","preventDefault","bcrypt","hash","Fragment","className","xl","lg","to","src","lightLogo","alt","darkLogo","signUpImage","Form","action","onSubmit","htmlFor","type","required","id","placeholder","value","onChange","target"],"mappings":"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","file":"static/js/19.51e9caa3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sign-up.3abadbac.png\";","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Card, Col, Input, Row, CardBody } from \"reactstrap\";\nimport MetaTags from \"react-meta-tags\";\nimport bcrypt from \"bcryptjs\";\nimport { useHistory } from \"react-router-dom\";\n\nimport lightLogo from \"../../assets/images/logo-light.png\";\nimport darkLogo from \"../../assets/images/logo-dark.png\";\n\nimport signUpImage from \"../../assets/images/auth/sign-up.png\";\nimport { Form } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst SignUp = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const history = useHistory();\n\n  function handleEmailChange(event) {\n    setEmail(event.target.value);\n  }\n\n  function handlePasswordChange(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleNameChange(event) {\n    setName(event.target.value);\n  }\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const saltRounds = 10;\n    const hashedPassword = await bcrypt.hash(password, saltRounds);\n    event.preventDefault();\n\n    // handle signup form submit\n    console.log(\"Signing up...\");\n    async function storeData() {\n      const formData = {\n        user_name: name,\n        email: email,\n        active: false,\n        password: hashedPassword,\n      };\n      try {\n        let headers = {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n        };\n        const res = await axios.post(\n          \"http://127.0.0.1:8000/spacificmanpower/userreg/\",\n          formData,\n          { headers: headers }\n        );\n        console.log(res.data);\n\n        try {\n          await localStorage.setItem(\"username\", res.data.user_name);\n        } catch (error) {}\n        if (res.status === 201) {\n          console.log(\"success\");\n          history.push(\"/\");\n\n          // do something to log the user in, e.g. redirect to a dashboard page\n        } else {\n          console.log(\"User authenticated\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    storeData();\n\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n    //setPhone(\"\");\n  }\n  return (\n    <React.Fragment>\n      <div>\n        <div className=\"main-content\">\n          <div className=\"page-content\">\n            <MetaTags>\n              <title>Sign Up</title>\n            </MetaTags>\n            <section className=\"bg-auth\">\n              <Container>\n                <Row className=\"justify-content-center\">\n                  <Col xl={10} lg={12}>\n                    <Card className=\"auth-box\">\n                      <Row className=\"align-items-center\">\n                        <Col lg={6} className=\"text-center\">\n                          <CardBody className=\"p-4\">\n                            <Link to=\"/\">\n                              <img\n                                src={lightLogo}\n                                alt=\"\"\n                                className=\"logo-light\"\n                              />\n                              <img\n                                src={darkLogo}\n                                alt=\"\"\n                                className=\"logo-dark\"\n                              />\n                            </Link>\n                            <div className=\"mt-5\">\n                              <img\n                                src={signUpImage}\n                                alt=\"\"\n                                className=\"img-fluid\"\n                              />\n                            </div>\n                          </CardBody>\n                        </Col>\n                        <Col lg={6}>\n                          <CardBody className=\"auth-content p-5 text-white\">\n                            <div className=\"w-100\">\n                              <div className=\"text-center\">\n                                <h5>Let's Get Started</h5>\n                                <p className=\"text-white-70\">\n                                  Sign Up and get access to all the features of\n                                  PacificManpower\n                                </p>\n                              </div>\n                              <Form\n                                action=\"/\"\n                                className=\"auth-form\"\n                                onSubmit={handleSubmit}\n                              >\n                                <div className=\"mb-3\">\n                                  <label\n                                    htmlFor=\"usernameInput\"\n                                    className=\"form-label\"\n                                  >\n                                    Username\n                                  </label>\n                                  <Input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    required\n                                    id=\"usernameInput\"\n                                    placeholder=\"Enter your username\"\n                                    value={name}\n                                    onChange={handleNameChange}\n                                  />\n                                </div>\n                                <div className=\"mb-3\">\n                                  <label\n                                    htmlFor=\"passwordInput\"\n                                    className=\"form-label\"\n                                  >\n                                    Email\n                                  </label>\n                                  <Input\n                                    type=\"email\"\n                                    className=\"form-control\"\n                                    required\n                                    id=\"emailInput\"\n                                    placeholder=\"Enter your email\"\n                                    value={email}\n                                    onChange={handleEmailChange}\n                                  />\n                                </div>\n                                <div className=\"mb-3\">\n                                  <label\n                                    htmlFor=\"emailInput\"\n                                    className=\"form-label\"\n                                  >\n                                    Password\n                                  </label>\n                                  <Input\n                                    type=\"password\"\n                                    className=\"form-control\"\n                                    id=\"passwordInput\"\n                                    placeholder=\"Enter your password\"\n                                    value={password}\n                                    onChange={handlePasswordChange}\n                                  />\n                                </div>\n                                {/* <div className=\"mb-4\">\n                                  <div className=\"form-check\">\n                                    <Input\n                                      className=\"form-check-input\"\n                                      type=\"checkbox\"\n                                      id=\"flexCheckDefault\"\n                                    />\n                                    <label\n                                      className=\"form-check-label\"\n                                      htmlFor=\"flexCheckDefault\"\n                                    >\n                                      I agree to the{\" \"}\n                                      <Link\n                                        to=\"#\"\n                                        className=\"text-white text-decoration-underline\"\n                                      >\n                                        Terms and conditions\n                                      </Link>\n                                    </label>\n                                  </div>\n                                </div> */}\n                                <div className=\"text-center\">\n                                  <button\n                                    type=\"submit\"\n                                    className=\"btn btn-white btn-hover w-100\"\n                                  >\n                                    Sign Up\n                                  </button>\n                                </div>\n                              </Form>\n                              <div className=\"mt-3 text-center\">\n                                <p className=\"mb-0\">\n                                  Already a member ?{\" \"}\n                                  <Link\n                                    to=\"/signin\"\n                                    className=\"fw-medium text-white text-decoration-underline\"\n                                  >\n                                    {\" \"}\n                                    Sign In{\" \"}\n                                  </Link>\n                                </p>\n                              </div>\n                            </div>\n                          </CardBody>\n                        </Col>\n                      </Row>\n                    </Card>\n                  </Col>\n                </Row>\n              </Container>\n            </section>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default SignUp;\n"],"sourceRoot":""}